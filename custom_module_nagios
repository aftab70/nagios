Nagios understands the following exit codes:

0 - Service is OK.
1 - Service has a WARNING.
2 - Service is in a CRITICAL status.
3 - Service status is UNKNOWN.

# Step 1:- Login to your nagios client machine as root user, and locate the commands diretory in my case cmd path is 
# /usr/local/nagios/libexec/ in this path we will create our custom bash script to check services.

#Step 2:- move the directory of commands.

cd /usr/local/nagios/libexec/

vim check_mysql.sh

-------------------------------------------------------------------------------------------------------------------

#!/bin/bash

status=$(systemctl status mysql | grep Active | awk '{print $2}')
UPTIME=$(systemctl status mysql | grep Active| awk '{$1=$2=$3=""; print $0}')

if [ "$status" = "active" ]
then
        echo "UPTIME is - $UPTIME"
exit 0
else
        echo "MariaDB is down, Please check."
exit 2
fi

----------------------------------------------------------------------------------------------------------------






------------------------------------------------------------------------------------------------------------------------------
# Verify the nagios server configuration. 

sudo /usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg

------------------------------------------------------------------------------------------------------------------------------

sudo systemctl restart nagios










